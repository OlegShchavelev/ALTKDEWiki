---
title: Расширения рабочего окружения KDE Plasma
gallery:
  - type: slider
    title: Управление расширениями через интерфейс KDE Plasma
    items:
      - src: ./img/kde-widgets-1.png
        text: Перейти в режим редактирования - правый клик на рабочем столе и выбор пункта меню.
      - src: ./img/kde-widgets-2.png
        text: Добавить или изменить виджеты - кнопка в верхнем левом углу после входа в режим редактирования.
      - src: ./img/kde-widgets-3.png
        text: Список доступных виджетов - перетаскивайте виджеты на рабочий стол или панель.
      - src: ./img/kde-widgets-4.png
        text: Получить новые виджеты - загрузка виджетов из KDE Store.
      - src: ./img/kde-widgets-5.png
        text: Настройка виджета - нажмите на виджет правой кнопкой мыши и выберите настройки.
  - type: slider
    title: Установка из KDE Store
    items:
      - src: ./img/kde-store-1.png
        text: KDE Store — каталог виджетов, тем, эффектов, сценариев и модулей.
      - src: ./img/kde-store-2.png
        text: Установка прямо из интерфейса соответствующего модуля настроек.
      - src: ./img/kde-store-3.png
        text: Управление установленными расширениями.
---

# Расширения рабочего окружения KDE Plasma

Расширения Plasma — это дополнения для рабочего окружения: от интерактивных виджетов и анимаций KWin до тем интерфейса и плагинов обоев. Они устанавливаются из KDE Store или вручную и позволяют глубоко кастомизировать внешний вид и поведение системы.

## KDE Store

Рекомендуется устанавливать расширения с официального каталога [KDE Store](https://store.kde.org) — это единое место для поиска, установки и обновлений виджетов, эффектов, сценариев, тем и модулей.

::: tip Не забудьте:
По умолчанию установка сторонних тем и сценариев может быть отключена. Как включить установку сторонних расширений, описано в [данной статье](/workarrounds/enable-downloading-of-third-party-themes/).
:::

<GalleryALT id=1 />

## Установка через интерфейс

Расширения устанавливаются через соответствующие разделы параметров системы:

| Тип расширения            | Путь установки                                                                                                                  |
| ------------------------- | ------------------------------------------------------------------------------------------------------------------------------- |
| Виджеты                   | «Правый клик по рабочему столу» → «Перейти в режим редактирования» → «Добавить или изменить виджеты» → «Получить новые виджеты» |
| Эффекты рабочего стола    | «Параметры системы» → «Диспетчер окон» → «Эффекты рабочего стола» → «Загрузить новые эффекты»                                   |
| Сценарии KWin             | «Параметры системы» → «Диспетчер окон» → «Сценарии KWin» → «Загрузить новые сценарии»                                           |
| Заставки                  | «Параметры системы» → «Цвета и оформления» → «Заставка» → «Загрузить»                                                           |
| Оформление рабочей среды  | «Параметры системы» → «Цвета и оформления» → «Оформление рабочей среды» → «Загрузить новые оформления»                          |
| Оформление рабочего стола | «Параметры системы» → «Цвета и оформления» → «Оформление рабочего стола» → «Загрузить новые оформления»                         |
| Цветовые схемы            | «Параметры системы» → «Цвета и оформления» → «Цвета» → «Загрузить»                                                              |
| Наборы значков            | «Параметры системы» → «Цвета и оформления» → «Значки» → «Загрузить наборы значков»                                              |
| Курсоры мыши              | «Параметры системы» → «Цвета и оформления» → «Курсоры мыши» → «Загрузить наборы курсоров»                                       |
| Оформление окон           | «Параметры системы» → «Цвета и оформления» → «Оформление окон» → «Загрузить новые оформления»                                   |
| Переключатели окон        | «Параметры системы» → «Диспетчер окон» → «Переключение окон» → «Загрузить стили переключения окон»                              |
| Плагины обоев             | «Параметры системы» → «Обои» → «Загрузить новые модули»                                                                         |

<GalleryALT id=0 />

## Установка из файла и через командную строку

Для пакетов используется `kpackagetool6`; тип указывается через ключ `--type`.

Список типов пакетов:

```shell
kpackagetool6 --list-types
```

Виджеты (`Plasma/Applet`):

```shell
kpackagetool6 --list --type Plasma/Applet
kpackagetool6 --install /path/to/widget.plasmoid --type Plasma/Applet
kpackagetool6 --upgrade /path/to/widget.plasmoid --type Plasma/Applet
kpackagetool6 --remove org.example.widget --type Plasma/Applet
sudo kpackagetool6 --global --install /path/to/widget.plasmoid --type Plasma/Applet
```

Эффекты рабочего стола (`KWin/Effect`):

```shell
kpackagetool6 --list --type KWin/Effect
kpackagetool6 --install ./effect.zip --type KWin/Effect
```

Сценарии KWin (`KWin/Script`):

```shell
kpackagetool6 --list --type KWin/Script
kpackagetool6 --install ./kwinscript.kwinscript --type KWin/Script
```

Заставки (`Plasma/LookAndFeel` или `Plasma/SplashScreen` — зависит от формата пакета):

```shell
kpackagetool6 --list --type Plasma/SplashScreen
kpackagetool6 --install ./splash.tar.gz --type Plasma/SplashScreen
```

Плагины обоев (`Plasma/Wallpaper`):

```shell
kpackagetool6 --list --type Plasma/Wallpaper
kpackagetool6 --install ./wallpaper.tar.gz --type Plasma/Wallpaper
```

Примечание: некоторые типы (темы, иконки, курсоры) чаще устанавливаются пакетным менеджером дистрибутива или через соответствующие модули настроек, но при наличии пакета формата KPackage их также можно установить `kpackagetool6`.

## Локальная ручная установка пакетов KPackage

Если у вас архив с исходниками KPackage:

1. Распакуйте архив:

```shell
cd ~/Загрузки
unzip package.kpackage -d package
```

2. Узнайте идентификатор из metadata.json:

```shell
jq -r '.KPlugin.Id // .KPlugin.PluginId // .KPackageStructure' package/metadata.json
```

3. Скопируйте в нужную директорию по типу:

- Виджеты: `~/.local/share/plasma/plasmoids/<id>/`
- Эффекты: `~/.local/share/kwin/effects/<id>/`
- Сценарии KWin: `~/.local/share/kwin/scripts/<id>/`
- Заставки: `~/.local/share/plasma/look-and-feel/<id>/` или `~/.local/share/plasma/splashscreens/<id>/`
- Плагины обоев: `~/.local/share/plasma/wallpapers/<id>/`

4. Перезапустите оболочку:

```shell
systemctl --user restart plasma-plasmashell.service
```

## Структура KPackage

Чаще всего встречаются:

- `metadata.json` — метаданные (Id, Name, Description, Type)
- `contents/ui/\*.qml` — интерфейс
- `contents/config/` — параметры
- `contents/code/` — вспомогательные скрипты
- `contents/images/` — ресурсы

## Типы расширений KDE Plasma

- **Интерактивные виджеты Plasma**: аплеты панели, рабочего стола и системного трея.
- **Сценарии KWin**: расширяют поведение оконного менеджера (автоматизация рабочих столов, тайлинг, правила поведения окон).
- **Заставки запуска Plasma**: анимированные splash-экраны, показываются между входом в систему и появлением рабочего стола.
- **Оформление рабочей среды**: глобальные темы Plasma (рамки, цвета, звуки, курсоры, обои, стили виджетов).
- **Оформление рабочего стола**: стили элементов интерфейса (виджеты/контролы) для приложений Qt/Plasma.
- **Цветовые схемы**: палитры для оформления окон, панелей и приложений.
- **Наборы значков**: темы иконок для приложений, файлов и системных элементов.
- **Курсоры мыши**: темы указателей с поддержкой разных размеров и HiDPI.
- **Оформление окон**: заголовки/рамки KWin, кнопки управления, тени.
- **Переключатели окон**: стили и макеты для Alt+Tab и связанного переключения задач.
- **Эффекты рабочего стола**: анимации KWin (сворачивание, раскрытие, обзор и др.).
- **Плагины обоев**: источники и типы динамических/живых обоев и модулей обоев.

## Популярные направления кастомизации

- Производительность и анимации: эффекты рабочего стола и сценарии KWin.
- Юзабилити панели: интерактивные виджеты и альтернативные меню приложений.
- Единый стиль: глобальные темы, цветовые схемы, иконки и курсоры.
- Динамика рабочего стола: плагины обоев (шейдеры, видео, интеграция Wallpaper Engine).
