---
title: Nano
aggregation:
  sisyphus: nano
appstream:
  name: Nano
  icon: ./img/nano-logo.png
  summary: Консольный текстовый редактор с открытым исходным кодом.
  developer:
    name: GNU
    avatar: ./img/gnu-logo.png
  metadata_license:
    name: GNU GPLv3
    link: https://choosealicense.com/licenses/gpl-3.0/
  url:
    homepage: https://www.nano-editor.org/
---

# Nano

Nano - консольный текстовый редактор, подходящий для использования новичками. Он поддерживает подсветку синтаксиса, имеет простой и понятный интерфейс, а также является достаточно функциональным.

![Скриншот редактора Nano](./img/nano_screen.png 'Скриншот редактора Nano')

## Установка

:::tabs
==apt-get

```shell
su -
apt-get update
apt-get install nano
```

==epm

```shell
epm -i nano
```

:::

## Возможности

Рассматриваемый текстовый редактор имеет достаточно много возможностей, которые по умолчанию отключены. Из-за этого человек, не знающий о них, использует довольно-таки ограниченную версию Nano. Чтобы исправить это, достаточно всего лишь указать нужные флаги при запуске программы. Ниже представлены доступные опции для расширения возможностей Nano.

Активировать поддержку мыши:

```shell
nano -m file_name
```

---

Отобразить полосу прокрутки:

```shell
nano -q file_name
```

---

Добавить нумерацию строк:

```shell
nano -l file_name
```

:::info
Вместо `-l` можно использовать `--linenumbers`.

В уже открытом файле можно использовать сочетание клавиш `Alt + n` для переключения нумерации строк.
:::

---

Активировать мини-бар:

```shell
nano --minibar file_name
```

:::info
Данная опция объединяет строки состояния снизу и сверху в общий мини-бар внизу.
:::

:::tip
При нажатии `Alt + c` появится дополнительная информация.
:::

---

Сделать редактор минималистичным:

```shell
nano -0 file_name
```

:::info
Данный параметр скроет заголовок, строку состояния и раздел справки. Важные сообщения будут появляться в нижней части строки состояния и исчезать через 1,5 секунды после нажатия любой клавиши.
:::

:::tip
`Alt + Z` переключает заголовок и строку состояния.

`Alt + X` переключает раздел справки внизу.
:::

---

Автоматически сохранять файл при выходе:

```shell
nano -t file_name
```

:::info
Теперь файлы будут сохраняться автоматически без отображения подсказок с просьбой сохранить файл, подтвердить выход и так далее.
:::

---

Автоматически создавать резервные копии файла:

```shell
nano -B file_name
```

:::info
Копия будет сохранена в том же каталоге, что и текущий файл с тем же названием с символом `~` в конце.
:::

---

Разместить курсор на искомом слове:

```shell
nano +c/test file_name
```

:::info
Файл откроется с курсором на первом совпадении. В данном случае ищется слово test.

При использовании символа `+` поиск указанного слова начинается с начала текста.
Буква `c` добавляет поиск с учетом регистра.
:::

---

Разместить курсор в указанной позиции:

```shell
nano +line,columns file_name
```

:::info
Например:

```shell
nano +10,5 ~/.bashrc
```

Курсор будет расположен на десятой строке и пятом столбце (символе).
:::

---

Открыть файл в режиме "только для чтения":

```shell
nano -v file_name
```

---

Установить размер табуляции:

```shell
nano -T 4 file_name
```

:::tip
В данном примере табуляция равна 4 проблемам.
:::

---

Всегда показывать положение курсора:

```shell
nano -c file_name
```

---

Указать каталог для резервной копии:

```shell
nano -C ~/backups file_name
```

:::info
Каталог для хранения резервных копий должен существовать заранее, иначе Nano сообщит, что каталог недопустим.
:::

---

Конвертировать табуляции в пробелы:

```shell
nano -E file_name
```

---

Включить поддержку редактирования нескольких файлов:

```shell
nano -F file_name
```

---

Запоминать и восстанавливать позицию курсора во время последнего редактирования:

```shell
nano -P file_name
```

---

:::warning
В данном блоке были продемонстрированы многие, но далеко не все параметры текстового редактора Nano.
Чтобы узнать об остальных опциях, выполните команду ниже:

```shell
nano -h
```

:::

## Сочетания клавиш

На скриншоте из начала статьи вы наверняка заметили поле с сочетаниями клавиш.
Однако из-за их сокращения некоторые комбинации могут быть не понятными.
Поэтому ниже вы увидите горячие клавиши, которые появляются при запуске текстового редактора Nano с более понятными описаниями.

| Комбинация |                         Описание                         |
| :--------: | :------------------------------------------------------: |
|    ^ g     | Отобразить все доступные сочетания клавиш с их описанием |
|    ^ o     |               Сохранить изменения в файле                |
|    ^ w     |                     Поиск по тексту                      |
|    ^ k     |                 Вырезать текст из файла                  |
|    ^ j     |                  Отформатировать текст                   |
|    ^ c     |     Отобразить текущую позицию курсора в виде данных     |
|    M-u     |                    Отменить действие                     |
|     ^x     |                      Выйти из Nano                       |
|     ^r     |                      Прочитать файл                      |
|    ^\      |                      Заменить текст                      |
|     ^u     |                  Вставить текст в файл                   |
|     ^t     |      Выполнить команду и записать результат в файл       |
|    M-e     |             Вернутся к предыдущему действию              |

:::info
Символ `^` обозначает клавишу `Ctrl`.

Буква `M` означает клавишу `Alt`.
:::

:::warning
Учтите, что программа воспринимает только английскую раскладку для взаимодействия с редактором и набором комбинаций клавиш!
:::

## Настройка

### Назначение Nano редактором "по умолчанию"

Чтобы назначить Nano текстовым редактором "по умолчанию" существует несколько способов:

1. При помощи файла .bashrc:

```shell
echo "export EDITOR="nano"" >> ~/.bashrc && source ~/.bashrc
```

:::info
Файл ".bashrc" выполняется при инициализации сеанса интерактивной оболочки.
То есть при запуске терминала через графический интерфейс KDE будет использоваться данный файл.
:::

2. При помощи файла .bash_profile:

```shell
echo "export EDITOR="nano"" >> ~/.bash_profile && source ~/.bash_profile
```

:::info
Если планируется подключаться к сеансам с помощью login оболочек (например, вход по SSH), можно добавить переменную окружения в рассматриваемый файл.
:::

3. При помощи файла /etc/environment:

```shell
echo "export EDITOR="nano"" >> /etc/environment && source /etc/environment
```

:::info
Этот способ предназначен для изменения значения переменной окружения глобально, то есть у всех пользователей.
:::

:::tip
Способы, приведенные выше, делают значение переменной окружения постоянной.
Если же вы хотите установить ее только на время текущего сеанса оболочки, воспользуйтесь командой ниже:

```shell
export EDITOR=nano
```

:::

### Конфигурация Nano

Текстовый редактор Nano хранит свою конфигурацию в файле `/etc/nanorc`.
В нем можно изменить поведение редактора под свои нужды.
В частности, в указанном файле настраиваются функции, доступные при использовании Nano без указания дополнительных флагов.

Например, чтобы не указывать опцию `-l` при каждом запуске программы, достаточно раскомментировать (убрать символ `#` в начале строки) следующий параметр:

```shell
set linenumbers
```

## Источники

1. https://losst.pro/tekstovyj-redaktor-nano-v-linux-dlya-novichkov
2. https://linuxize.com/post/how-to-use-nano-text-editor/
3. https://ioflood.com/blog/nano-linux-command/
4. https://itsfoss.com/nano-tips-tricks/
5. https://wiki.merionet.ru/articles/peremennye-okruzheniya-v-linux-kak-posmotret-ustanovit-i-sbrosit
