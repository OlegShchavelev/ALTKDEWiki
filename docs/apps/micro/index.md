---
title: Micro
aggregation:
    sisyphus: micro
appstream:
    id: micro.desktop
    name: Micro
    icon: ./img/micro-logo.png
    summary: Консольный текстовый редактор, сочетающий в себе простоту и функциональность.
    developer:
        name: Zachary Yedidia
        nickname:  zyedidia
    metadata_license: 
        name: MIT
        link: https://choosealicense.com/licenses/mit/
    url: 
        homepage: https://micro-editor.github.io/
        bugtracker: https://github.com/zyedidia/micro/issues
        help: https://micro-editor.github.io/about.html
---

# Micro

Micro - текстовый редактор с TUI интерфейсом, являющийся отличной альтернативой Nano.
Он предлагает пользователю привычные сочетания клавиш, простой и удобный интерфейс, расширяемость при помощи плагинов, качественную подсветку синтаксиса и это еще не все!

![Скриншот редактора Micro](./img/micro-screen.png 'Скриншот редактора Micro')

## Установка

### Установка из репозитория

:::tabs
==apt-get
```shell
su -
apt-get update
apt-get install micro
```
==epm
```shell
epm -i micro
```
:::

### Установка с официального сайта

```shell
su -
curl https://getmic.ro | bash
mv micro /usr/bin
```
:::info
Учтите, что в данном способе отсутствует возможность получения обновлений!
Если вы хотите получать обновления автоматически, воспользуйтесь пакетом из репозитория.
При использовании этого метода вам придётся выполнять обновления вручную, то есть заново проделывать указанные действия.
:::

## Сочетания клавиш

В Micro используются всем известные горячие клавиши, как и в любом другом GUI текстовом редакторе.
В таблице ниже продемонстрированы их варианты "по умолчанию".

| Комбинация | Назначение                                            |
|:----------:|:-----------------------------------------------------:|
| Ctrl+q     | Выход из программы                                    |
| Ctrl+s     | Сохранить изменения в файле                           |
| Ctrl+x     | Вырезать текст из файла                               |
| Ctrl+v     | Вставить текст в файл                                 |
| Ctrl+k     | Вырезать строку из файла                              |
| Ctrl+z     | Отменить действие                                     |
| Ctrl+f     | Поиск по файлу (Ctrl+n = дальше, Ctrl+p = предыдущий) |
| Ctrl+a     | Выбрать все                                           |
| Ctrl+e     | Командная строка                                      |
| Ctrl+t     | Открыть новую вкладку                                 |
| Alt+,      | Предыдущая вкладка                                    |
| Alt+.      | Следующая вкладка                                     |
| Ctrl+g     | Открыть раздел помощи                                 |
| Alt+g      | Посмотреть горячие клавиши                            |
| Ctrl+o     | Открыть файл                                          |
| Ctrl+y     | Вернутся к предыдущему действию                       |
| Ctrl+d     | Продублировать строку                                 |

:::info
Командная строка Micro поддерживает не только некоторые внешние команды, но и свои собственные.
Например, чтобы разделить окно по горизонтали, нужно выполнить следующую команду:
```shell
hsplit filename
```
По вертикали:
```shell
vsplit filename
```
:::tip
Переключаться между частями можно с помощью Ctrl + w или мышки.
:::

## Настройка

### Назначение Micro редактором "по умолчанию"

Чтобы назначить Micro текстовым редактором "по умолчанию" существует несколько способов:

1. При помощи файла .bashrc:
```shell
echo "export EDITOR="micro"" >> ~/.bashrc && source ~/.bashrc
```
:::info
Файл ".bashrc" выполняется при инициализации сеанса интерактивной оболочки.
То есть при запуске терминала через графический интерфейс KDE будет использоваться данный файл.
:::

2. При помощи файла .bash_profile:
```shell
echo "export EDITOR="micro"" >> ~/.bash_profile && source ~/.bash_profile
```
:::info
Если планируется подключаться к сеансам с помощью login оболочек (например, вход по SSH), можно добавить переменную окружения в рассматриваемый файл.
:::

3. При помощи файла /etc/environment:
```shell
echo "export EDITOR="micro"" >> /etc/environment && source /etc/environment
```
:::info
Этот способ предназначен для изменения значения переменной окружения глобально, то есть у всех пользователей.
:::

:::tip
Способы, приведенные выше, делают значение переменной окружения постоянной.
Если же вы хотите установить ее только на время текущего сеанса оболочки, воспользуйтесь командой ниже:
```shell
export EDITOR=micro
```
:::

### Конфигурация Micro

Конфигурационный файл находится по пути `~/.config/micro/settings.json`.
В данном файле происходит основная настройка Micro.

По умолчанию рассматриваемый файл пуст, поэтому редактор принимает значения параметров "по умолчанию".
Однако изменить настройки Micro достаточно просто.
Нужно всего лишь указать желаемый параметр и значение для него.

Например, чтобы включить перенос строк, который по умолчанию отключен, добавьте в указанный файл следующий код:
```shell
"softwrap": true,
```
---
Для отображения полосы прокрутки укажите это:
```shell
"scrollbar": true,
```
---
Включить поиск по файлу без учета регистра можно так:
```shell
"ignorecase": true,
```

:::tip
Параметры должны находится внутри фигурных скобок, которые присутствуют в файле изначально.
Если вы добавили в конфигурацию все продемонстрированные опции, у вас получится примерно такая картина:
```shell
{
"softwrap": true,
"scrollbar": true,
"ignorecase": true,
}
```
Спустя некоторое время файл обновиться автоматически и примет подобный вид:
```shell
{
    "scrollbar": true,
    "softwrap": true,
    "ignorecase": true,
}
```
:::

:::info
Дополнительные настройки Micro не ограничиваются параметрами, приведенными здесь.
На самом деле их там много, что перечислить все не хватит никаких сил.
Однако это получилось у разработчиков Micro, поэтому подробно узнать о всех опциях программы можно [здесь](https://github.com/zyedidia/micro/blob/master/runtime/help/options.md).

P.S: Учтите, что вся документация написанa на английском языке.
Если для вас это является проблемой, можно использовать переводчики, которые в нынешних реалиях способны достаточно точно перевести нужную информацию.
:::

### Настройка буфера обмена

Для взаимодействия с глобальным буфером обмена необходимо установить следующие пакеты:

:::tabs
==Wayland
:::code-group
```shell[apt-get]
su -
apt-get update
apt-get install wl-clipboard
```

```shell[epm]
epm -i wl-clipboard
```

==X11
:::code-group
```shell[apt-get]
su -
apt-get update
apt-get install xclip
```

```shell[epm]
epm -i xclip
```
P.S: Вместо `xclip` можно использовать `xsel`.
:::

:::warning
Без установки этих пакетов Micro будет использовать внутренний буфер обмена для копирования и вставки без доступа к внешним приложениям!
:::

### Настройка комбинаций клавиш

В данной статье уже были разобраны комбинации клавиш "по умолчанию".
Теперь пришло время разобраться с тем, как их изменять.

Для того чтобы настроить их, нужно открыть файл по пути `~/.config/micro/bindings.json`.
:::info
Если по какой-то причине его не существует, просто создайте данный файл самостоятельно.
:::

Например, чтобы поменять функционал комбинаций `Ctrl+z` и `Ctrl+y` местами, пропишите в файле следующее:
```shell
{
    "Ctrl-y": "Undo",
    "Ctrl-z": "Redo",
}
```
---
Помимо изменения уже существующих сочетаний, можно создавать свои собственные:
```shell
{
    "Alt-s": "Save,Quit",
}
```
:::info
В данном примере создается горячая клавиша `Alt+s`, при нажатии которой произойдет сохранение изменений в файле с последующим выходом из редактора.
:::

Отключить любую привязку клавиш по умолчанию можно, установив ей значение `None`.

:::info
На этом возможности настраивания сочетаний клавиш, естественно, не заканчиваются.
Подробнее об этом можно узнать [здесь](https://github.com/zyedidia/micro/blob/master/runtime/help/keybindings.md).
:::

### Изменение внешнего вида

Чтобы изменить цветовую схему, нажмите `Ctrl-e` в Micro, чтобы вызвать командую строку, и введите в нее следующее:
```shell
set colorscheme twilight
```
:::info
Twilight можно заменить на любую другую доступную тему.
В примере приведена тема для терминалов, поддерживающих 256 цветов.
Посмотреть все возможные темы, отсортированные по количеству поддерживаемых цветов в терминале, можно [здесь](https://github.com/zyedidia/micro/blob/master/runtime/help/colors.md).
:::

### Использование плагинов

Несмотря на огромный функционал рассматриваемого текстового редактора, многим этого может оказаться недостаточно.
Поэтому разработчики Micro позаботились о нас и добавили поддержку сторонних плагинов для расширения функционала программы.

Чтобы найти доступные расширения, перейдите на [эту страницу](https://micro-editor.github.io/plugins.html).

### Установка

Для установки понравившегося плагина, как правило, есть инструкция на указанной странице, которая открывается при нажатии на название расширения.
:::info
Дополнительно устанавливать какой-либо менеджер плагинов не нужно, так как он идет "из коробки" вместе с редактором.
:::
Для лучшего понимания представленной информации разберем работу с плагинами на примере того, что добавляет файловый менеджер в Micro.

Чтобы установить его, выполните указанную ниже команду в терминале:
```shell
micro -plugin install filemanager
```
:::info
Теперь в редакторе доступна возможность взаимодействия с деревом каталогов при помощи команды `tree`, которая вводится в меню, открывающееся по нажатию `Ctrl+e`.

Подробнее узнать про возможности данного плагина, а также о его настройке можно [здесь](https://github.com/NicolaiSoeborg/filemanager-plugin).

P.S: По умолчанию на странице плагинов от Micro нет ссылки на GitHub плагинов, из-за чего не понятно, как его настраивать и как с ним работать.
Однако данная информация легко ищется в интернете по названию расширения с добавлением `micro text editor plugin github` после него.
:::

### Настройка

Однако проделывать описанные действия каждый раз при взаимодействии с плагином совершенно не удобно.
Поэтому для расширений можно создать удобную для вас комбинацию клавиш.
Это далеко не все, что можно для них настроить.
Степень настраиваемости зависит на прямую от самого расширения!

### Удаление

Если же вы захотели удалить какой-либо плагин, достаточно всего лишь выполнить следующую команду в терминале:
```shell
micro -plugin remove filemanager
```
:::info
Вместо `filemanager` укажите желаемое расширение.
:::

## Источники

1. https://micro-editor.github.io/
2. https://github.com/zyedidia/micro
3. https://zencod.ru/articles/micro-editor/
4. https://tretyakov.net/post/micro-redaktor-s-podderzhkoj-myshi-v-terminale/
5. https://itsfoss.com/micro-editor-linux/
